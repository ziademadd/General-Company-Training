<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div>
        <table>
            <thead>
                <tr>
                    <th> N </th>
                    <th> Name </th>
                    <th> Age </th>
                    <th> Department </th>
                    <th> Actions </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td> 1 </td>
                    <td> زياد </td>
                    <td> 20 </td>
                    <td> Front End </td>
                    <td>
                        <button class="edit-row action-button">تعديل</button>
                        <button class="delete-row action-button">حذف</button>
                    </td>
                </tr>
                <tr>
                    <td> 2 </td>
                    <td> رنا </td>
                    <td> 19 </td>
                    <td> Front End </td>
                    <td>
                        <button class="edit-row action-button">تعديل</button>
                        <button class="delete-row action-button">حذف</button>
                    </td>
                </tr>
                <tr>
                    <td>3</td>
                    <td> محمود </td>
                    <td>22</td>
                    <td>Back End </td>
                    <td>
                        <button class="edit-row action-button">تعديل</button>
                        <button class="delete-row action-button">حذف</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <button id="add" class="add-row action-button">إضافة صف جديد</button>

    <script>
        var editRowButtons = document.querySelectorAll(".edit-row");
        var deleteRowButtons = document.querySelectorAll(".delete-row");
        var addRowButton = document.querySelector(".add-row");
        editRowButtons.forEach(function (button, index) {
            button.addEventListener("click", function () {

                var confirmEdit = confirm("هل ترغب في تعديل هذا الصف؟");

                if (confirmEdit) {
                    var newName = prompt("New Name:");
                    var newAge = prompt("New Age:");
                    var newDepartment = prompt("New Department:");

                    if (newName !== null && newAge !== null && newDepartment !== null) {
                        var rowToEdit = button.parentElement.parentElement;
                        rowToEdit.cells[1].textContent = newName;
                        rowToEdit.cells[2].textContent = newAge;
                        rowToEdit.cells[3].textContent = newDepartment;
                    }
                }
            });
        });
        deleteRowButtons.forEach(function (button, index) {
            button.addEventListener("click", function () {
                var confirmDelete = confirm("هل تريد حذف هذاالصف؟");

                if (confirmDelete) {
                    var rowToDelete = button.parentElement.parentElement;
                    rowToDelete.remove();
                }
            });
        });
        addRowButton.addEventListener("click", function () {
            var table = document.querySelector("table tbody");

            var nameInput = prompt("Name : ");
            var ageInput = prompt(" Age :");
            var departmentInput = prompt("Department :");


            var newRow = table.insertRow();

            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);
            var cell4 = newRow.insertCell(3);

            cell1.textContent = table.rows.length;
            cell2.textContent = nameInput;
            cell3.textContent = ageInput;
            cell4.textContent = departmentInput;

            var editButton = document.createElement("button");
            editButton.textContent = "تعديل";
            editButton.className = "edit-row action-button";

            var deleteButton = document.createElement("button");
            deleteButton.textContent = "حذف";
            deleteButton.className = "delete-row action-button";

            var actionCell = newRow.insertCell(4);
            actionCell.appendChild(editButton);
            actionCell.appendChild(deleteButton);

            editRowButtons.forEach(function (button, index) {
                editButton.addEventListener("click", function () {
                    var rowToEdit = button.parentElement.parentElement;

                    var confirmEdit = confirm("هل ترغب في تعديل هذا الصف؟");

                    if (confirmEdit) {
                        var newName = prompt("New Name:");
                        var newAge = prompt("New Age:");
                        var newDepartment = prompt("New Department:");

                        if (newName !== null && newAge !== null && newDepartment !== null) {
                            rowToEdit.cells[1].textContent = newName;
                            rowToEdit.cells[2].textContent = newAge;
                            rowToEdit.cells[3].textContent = newDepartment;
                        }
                    }
                });
            });

        });
        deleteButton.addEventListener("click", function () {
        });

    </script>
</body>

</html>